# 设计模式

设计模式（Design Pattern）是前辈们对代码开发经验的总结，是解决特定问题的一系列套路。它不是语法规定，而是一套用来提高代码可复用性、可维护性、可读性、稳健性以及安全性的解决方案。

https://zhuanlan.zhihu.com/p/128145128

## 设计模式的六大原则

### 总原则——开闭原则

### 原则1：单一职责原则

一个类应该只有一个发生变化的原因。

### 原则2：里氏替换原则

所有引用基类的地方必须能透明地使用其子类的对象。

### 原则3：依赖倒置原则

1、上层模块不应该依赖底层模块，它们都应该依赖于抽象。
2、抽象不应该依赖于细节，细节应该依赖于抽象。

### 原则4：接口隔离原则

1、客户端不应该依赖它不需要的接口。
2、类间的依赖关系应该建立在最小的接口上。

### 原则5：迪米特法则（最少知道原则）

只与你的直接朋友交谈，不跟“陌生人”说话。

### 原则6：合成复用原则

尽量使用对象组合/聚合，而不是继承关系达到软件复用的目的。

## 设计模式的三大类

### 创建型模式

对类的实例化过程进行了抽象，能够将软件模块中**对象的创建**和对象的使用分离。

（5种）工厂模式、抽象工厂模式、单例模式、建造者模式、原型模式

#### 工厂模式

1. 创建一个接口

```java
public interface Shape {
   void draw();
}
```

2. 创建实现接口的实体类

```java
public class Rectangle implements Shape {

   @Override
   public void draw() {
      System.out.println("Inside Rectangle::draw() method.");
   }
}

public class Square implements Shape {
 
   @Override
   public void draw() {
      System.out.println("Inside Square::draw() method.");
   }
}

public class Circle implements Shape {
 
   @Override
   public void draw() {
      System.out.println("Inside Circle::draw() method.");
   }
}
```

3. 创建一个工厂，生成基于给定信息的实体类的对象

```java
public class ShapeFactory {
    

   public Shape getShape(String shapeType){
      if(shapeType == null){
         return null;
      }        
      if(shapeType.equalsIgnoreCase("CIRCLE")){
         return new Circle();
      } else if(shapeType.equalsIgnoreCase("RECTANGLE")){
         return new Rectangle();
      } else if(shapeType.equalsIgnoreCase("SQUARE")){
         return new Square();
      }
      return null;
   }
}
```

4. 使用该工厂，通过传递类型信息来获取实体类的对象

```java
public class FactoryPatternDemo {
 
   public static void main(String[] args) {
      ShapeFactory shapeFactory = new ShapeFactory();
 
      //获取 Circle 的对象，并调用它的 draw 方法
      Shape shape1 = shapeFactory.getShape("CIRCLE");
 
      //调用 Circle 的 draw 方法
      shape1.draw();
 
      //获取 Rectangle 的对象，并调用它的 draw 方法
      Shape shape2 = shapeFactory.getShape("RECTANGLE");
 
      //调用 Rectangle 的 draw 方法
      shape2.draw();
 
      //获取 Square 的对象，并调用它的 draw 方法
      Shape shape3 = shapeFactory.getShape("SQUARE");
 
      //调用 Square 的 draw 方法
      shape3.draw();
   }
}
```

### 结构型模式

### 行为型模式