% Qcircuit demonstration graphic
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{amsart}

\usepackage[matrix,frame,arrow]{xypic}
\usepackage[braket]{qcircuit}

\vfuzz2pt % Don't report over-full v-boxes if over-edge is small

%%% ----------------------------------------------------------------------
\begin{document}
\[
\Qcircuit @C=1.0em @R=.7em {
\lstick{p} & \gate{H} & \qw & \qw & \gate{-p} & \qw & \gate{p} & \qw \\
\lstick{q} & \gate{H} & \gate{p\cdot{q}} & \gate{pq=N?} & \ctrl{-1} & \gate{X} & \ctrl{-1} & \gate{X} \\
}
\]
\end{document}
% ------------------------------------------------------------------------
